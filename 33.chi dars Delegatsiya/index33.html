<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style33.css">
    <title>33. chi dars Delegatsiya</title>
</head>

<body>
    <br>
    <a href="../index.html">Bosh sahifa</a>
    <br>
    <h1>33. chi dars Delegatsiya</h1>
    <br>
    <a target="_blank"
        href="https://sammi.ac/course/javascript/dashboard/653d3fee28da4c78b7e07ab1?section=653d2d0528da4c78b7e07950">33.
        chi dars Delegatsiya darsi videosi</a>


    <br><br><br>


    <div id="first" class="btn-block">
        <button class="blue some">1</button>
        <button>2</button>
        <button>3</button>
        <button>4</button>
        <button>5</button>
        <button>6</button>
        <button>7</button>
        <button>8</button>
    </div>

    <br><br><br><br>

    <p>
        "use strict";

//Delegatsiya
// const btn = document.querySelector(".btn-block");
// btn.addEventListener("click", () => {//htmldagi btn-block ona divi classida click hodisasi sodir bo'lganda logda bosildi texti chiqsin
//     console.log("bosildi");
// });

//event.target
// const btn = document.querySelector(".btn-block");
// btn.addEventListener("click", (event) => {
//     // console.log(event.target);//event targetni log holata chaqirilganda ona divga bosilganda ona div bola button elementlarga bosilganda elementlari chiqdi
//     console.dir(event.target);//event targetlo dir holatidda object chiqadi bu holatda ona divga bosilganda ona div bola button elementlarga bosilganda elementlari object ko'rinishida metodlari va propertiylari bilan birga chiqdi yani elementni nimalari bor ekanliginiham ko'rish mumkun
// });

// const btn = document.querySelector(".btn-block");
// btn.addEventListener("click", (event) => {
//     if (event.target && event.target.tagName == "BUTTON") {//yani agarda bosilayotgan tagneme yani elementda event target bor bo'lsa va event targetni tagname button bo'lsa, BUTTON katta hariflarda yoziladi chunki tagnamelar js objectida katta hariflar bilan yoziladi shudna js button elementini tagnamesidagi buttonni taniydi//yani agarda bosilayotgan tagneme yani elementda event target bor bo'lsa va event targetni tagname button bo'lsa, console logda btn bosildi degan text chiqsin//shunda ona divmas elemetiga click hodisasi sodir bo'lgandagina click hodisasi sihlab logdagi vazifa bajariladi//yani ona divdan bola divlarga hodisa qo'shish bo'ldi //yani event va target addEventListener metodini (aslida addEventListener object funksiya hissoblanadi) qiymatlari desaham bo'ladi //YANI addEventListener FUNKSIYASINI PARAMETRIDA MAQSAD YANI MAQSADIDAGI ELEMENTDA YOKI ELEMENTLARDA TAGNEMI BUTTON BO'LSA!!!!!!!!!!!!!!!!!!!!!!!!!!!
//         console.log("btn bosildi");
//     }
// });

// const btn = document.querySelector(".btn-block");
// btn.addEventListener("click", (event) => {
//     if (event.target && event.target.classList.contains("blue")) {
//         //yani agar addEventListener funksya metodini maqsadi bo'lgan click hodisasida (event yani voqelikda) blue classi bor bo'lsa logda 'blue classli btn bosildi' textni chiqsin//yani classListida blue classi bor bo'lsa yani containsida yani blue classiga o'ralgan bo'lsa //YANI CLASSLIST, CONTAINS QIYMAT VA METODLARI HTMLDAN ULANGAN HAR QANDAY ELEMENTI OBJECT QILIB OLADI CHUNKI YANI BU HOLATDA MASSIV ASLIDA MASSIVHAM OBJECTNI BOSHQACHA TURI HISSOBLANADI  YANI BU HOLATDA CLASSLIST VA CONTAINSLAR BLUE OBJECTINI BOR YO'QLIGINI DOMDAN BILIB OLDI YANI HTML JS GA ULANGANDA HAMMASI JS GA MOSLASHADI OBJECT KO'RINISHIDA OBJECTDA ESA HAMMA MAYDA DETALLARGACHA HATTO BO'SH KATAKLARGACHA DALNILAR BOR HTMLDAGI ALL HTMLDA (console dirda ko'rinadi) BU KO'RINIB TURIPTI SHU SABABHAM AGAR HODISA SODIR BO;O'LISHI KERAK BO'LGAN ELEMENTDA BLUE CLASSI BOR BO'LSA LOGDA TEXT CHIQSIN DEGAN BUYRUQ BAJARILDI BU !!!MENIMCHAAAAAA!!!
//         console.log("blue classli btn bosildi");
//     }
// });
// console.dir(btn);// if (event.target && event.target.classList.contains("blue")) ning holatini jsda ko'rish uchun dir ishlatildi katta harifli komentlar shu sabab yozildi

// ////Delegatsiyani muhumligi sababi???
// const btn = document.querySelector(".btn-block"),
//     btns = document.querySelectorAll("button");
// btns.forEach((item) => {
//     //yani btn nomli o'zgaruvchiga btn-block nomli ona div chaqirilib btns nomli yangi local o'zgaruvchi yaratib unga (ona) o'zgaruvchisidagi btn-block ichidagi buttonlar chaqirildi va btns foreach metodi bilan itemlari yani btnsni elementlari intrigatsa qilinib itemlarga hammasiga bittada addEventListener objectidagi click hodisasi qo'shildi click hodisasida logda "bosildi" texti chiqishi buyurildi lekin pastroqda shu btn-block diviga dynamic qo'shilgan buttonda bu click hodisasi ishlamadi???
//     item.addEventListener("click", () => {
//         console.log("bosildi");
//     });
// }); //yani bu holatda dynamic tarzda qo'shilgan red classli buttonga logdagi "bosildi" texti ishlamadi yani buttonlarga foreach metodi bilan berilgan adeventlistenerdagi click hodisasi dynamic tarzda qo'shilgan lekin yangi buttonda ishlamadi chunki yangi button dynamic qo'shildi yani addEventListenerni itemlarida yo'q
// const dynamicBtn = document.createElement("button");
// dynamicBtn.classList.add("red");
// btn.append(dynamicBtn);
// dynamicBtn.textContent = "9";
// dynamicBtn.style.cssText = "color:white";

////////////////////////////////////////Delegatsiyani to'gri qilish
const btn = document.querySelector(".btn-block"),
    btns = document.querySelectorAll("button");
btns[0].addEventListener("click", () => {
    btns[1].classList.toggle("red");
});
btn.addEventListener("click", (event) => {
    if (event.target && event.target.classList.contains("red")) {
        console.log("All the btns click");
        // prompt("salom")
    }
});
const dynamicBtn = document.createElement("button");
dynamicBtn.classList.add("red");
btn.append(dynamicBtn);
dynamicBtn.textContent = "9";
dynamicBtn.style.cssText = "color:white"; // delegatsya qanday ishlaydi?? yani bu holatda btn o'zgaruvchidagi ona div yani btn-block classi chaqirildi va btns o'zgaruvchida esa btn-classini bollari  yani elementlari hissoblangan buttonlar chaqirildi va buttonlarni nolinchisiga addEventListener hodisa objecti bilan event.targetida red classi bor bo'lsa buttonni birinchi elementiga red clasini qo'shish agar yo'q bo'sa o'chirish agar bor bo'lsa click bo'lgabda logda "All the btns click" texti chiqsin deyildi  red classi esa  dynamic tarza berib qo'yildi va asosiy btn o'zgaruvchiga click hodisasi sodir bo'lganda elementlarida event targetida red classi bor bo'lsa "All the btns click" texti chiqsin deyildi

////////////////////////////delegetsiyada matches metodi bilan ishlash buham bir hil ishlaydi faqat sintaksiz murakkabroq
// const btn = document.querySelector(".btn-block"),
//     btns = document.querySelectorAll("button");

//     btns[0].addEventListener("click", ()=>{
//         btns[1].classList.toggle("red")
//     })
// btn.addEventListener("click", (event) => {
//     if (event.target && event.target.matches("button.red")) {//delegatsyada matches metodini ishlatish
//         console.log("All the btns click");
//     }
// });
// const dynamicBtn = document.createElement("button");
// dynamicBtn.classList.add("red");
// btn.append(dynamicBtn);
// dynamicBtn.textContent = "9";
// dynamicBtn.style.cssText = "color:blue";

    </p>

    <script src="./script33.js"></script>
</body>

</html>